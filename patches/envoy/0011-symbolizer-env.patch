diff --git a/bazel/envoy_test.bzl b/bazel/envoy_test.bzl
index 96bddca75a..78ac9ec827 100644
--- a/bazel/envoy_test.bzl
+++ b/bazel/envoy_test.bzl
@@ -185,9 +185,13 @@ def envoy_cc_test(
         name = name,
         srcs = srcs,
         data = data + select({
-            "%s//bazel:local_asan_build" % repository: [],
-            "%s//bazel:asan_build" % repository: ["@llvm_toolchain_llvm//:symbolizer"],
-            "//conditions:default": [],
+            "@envoy_repo//:use_local_llvm": [],
+            "//conditions:default": select({
+                "%s//bazel:asan_build" % repository: ["@llvm_toolchain//:llvm-symbolizer"],
+                "%s//bazel:msan_build" % repository: ["@llvm_toolchain//:llvm-symbolizer"],
+                "%s//bazel:tsan_build" % repository: ["@llvm_toolchain//:llvm-symbolizer"],
+                "//conditions:default": [],
+            }),
         }),
         copts = envoy_copts(repository, test = True) + copts + envoy_pch_copts(repository, "//test:test_pch"),
         additional_linker_inputs = envoy_exported_symbols_input(),
@@ -208,9 +212,21 @@ def envoy_cc_test(
         size = size,
         flaky = flaky,
         env = env | select({
-            "%s//bazel:local_asan_build" % repository: {"ASAN_SYMBOLIZER_PATH": "%s/bin/llvm-symbolizer" % LLVM_PATH},
-            "%s//bazel:asan_build" % repository: {"ASAN_SYMBOLIZER_PATH": "$(location @llvm_toolchain_llvm//:symbolizer)"},
-            "//conditions:default": {},
+            "@envoy_repo//:use_local_llvm": {
+                "ASAN_SYMBOLIZER_PATH": "%s/bin/llvm-symbolizer" % LLVM_PATH,
+                "MSAN_SYMBOLIZER_PATH": "%s/bin/llvm-symbolizer" % LLVM_PATH,
+                "TSAN_SYMBOLIZER_PATH": "%s/bin/llvm-symbolizer" % LLVM_PATH,
+                "UBSAN_SYMBOLIZER_PATH": "%s/bin/llvm-symbolizer" % LLVM_PATH,
+            },
+            "//conditions:default": select({
+                "%s//bazel:asan_build" % repository: {
+                    "ASAN_SYMBOLIZER_PATH": "$(location @llvm_toolchain//:llvm-symbolizer)",
+                    "UBSAN_SYMBOLIZER_PATH": "$(location @llvm_toolchain//:llvm-symbolizer)",
+                },
+                "%s//bazel:msan_build" % repository: {"MSAN_SYMBOLIZER_PATH": "$(location @llvm_toolchain//:llvm-symbolizer)"},
+                "%s//bazel:tsan_build" % repository: {"TSAN_SYMBOLIZER_PATH": "$(location @llvm_toolchain//:llvm-symbolizer)"},
+                "//conditions:default": {},
+            }),
         }),
         exec_properties = exec_properties,
     )
